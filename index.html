<!DOCTYPE html>
<html lang="nl">

<head>
  <meta content="text/html; charset=utf-8" http-equiv="content-type">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Mermaid for diagrams -->
  <script src="https://cdn.jsdelivr.net/gh/digitalbazaar/respec-mermaid@1.0.1/dist/main.js" class="remove"></script>

  <!-- Organization config -->
  <script src="https://vng-realisatie.github.io/VNG-R-Respec-Organization-configurations/js/organisation-config.js" class="remove"></script>
  <!-- <script src="js/organisation-config.js" class="remove"></script> -->
  <script src="js/config.js" class="remove"></script>
  <script class="remove">
    respecConfig = { ...organisationConfig, ...respecConfig };
  </script>
  <script>document.title = respecConfig.title || "Default Title";</script>

  <!-- Favicon -->
  <link rel="shortcut icon" type="image/x-icon" href="https://vng-realisatie.github.io/VNG-R-Respec-Organization-configurations/media/logo-VNG-Realisatie.ico" />

  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/custom.css">

  <!-- ReSpec NL Gov build -->
  <script src="https://gitdocumentatie.logius.nl/publicatie/respec/builds/respec-nlgov.js" class="remove" async></script>

  <!-- Styles for images and h7 -->
  <style>
    .figure img, .sidefigure img, figure img,
    .figure object, .sidefigure object, figure object {
      max-width: none !important;
    }
    h7 {
      font-style: italic;
    }
    h7::after, h7::before {
      content: "\a";
      white-space: pre;
    }
  </style>
</head>

<body>

  <!-- Required sections for ReSpec -->
  <section id="abstract" data-include-format="markdown" data-include="abstract.md"></section>
  <section id="sotd"></section>

  <!-- Main content sections -->
  <section id="rm" data-include-format="markdown" data-include="README.md"></section>
  <section id="gen" data-include-format="markdown" data-include="VNG-R-Generating.md"></section>
  <section id="assembl" data-include-format="markdown" data-include="VNG-R-Assembling.md"></section>
  <section id="publ" data-include-format="markdown" data-include="VNG-R-Publishing.md"></section>
  <section id="probl" data-include-format="markdown" data-include="VNG-R-Foutoplossing.md"></section>

  <!-- Dynamic inclusion from respecConfig.content -->
  <script>
    (function() {
      const map = respecConfig.content || {};
      let content = "";

      function extOf(path) {
        const m = path.match(/\.([a-z0-9]+)$/i);
        return m ? m[1].toLowerCase() : "";
      }

      function includeFormatFromExt(ext) {
        if (ext === "md" || ext === "markdown") return "markdown";
        if (ext === "html" || ext === "htm") return "html";
        return "markdown";
      }

      for (const key of Object.keys(map)) {
        const path = map[key] || "";
        if (!path) continue;

        let actualPath = path;
        let cls = "";
        if (typeof path === "object") {
          actualPath = path.path || "";
          cls = path.class || "";
        }
        const ext = extOf(actualPath);
        const fmt = includeFormatFromExt(ext);
        content += `<section data-include-format="${fmt}" data-include="${actualPath}"${cls ? ` class="${cls}"` : ""}></section>\n`;
      }

      // Insert dynamic content after the "probl" section
      const problSection = document.getElementById("probl");
      if (problSection) {
        problSection.insertAdjacentHTML("afterend", content);
      } else {
        document.body.insertAdjacentHTML("beforeend", content);
      }
    })();
  </script>

  <!-- Other required ReSpec sections -->
  <section id="conformance"></section>
  <section id="tof"></section>
  <section id="index"></section>

</body>
</html>
