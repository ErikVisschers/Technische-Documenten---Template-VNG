<!DOCTYPE html>
<html lang="nl">

<head>
  <meta content="text/html; charset=utf-8" http-equiv="content-type">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Mermaid for diagrams -->
  <script src="https://cdn.jsdelivr.net/gh/digitalbazaar/respec-mermaid@1.0.1/dist/main.js" class="remove"></script>

  <!-- Organization config -->
  <script src="https://vng-realisatie.github.io/VNG-R-Respec-Organization-configurations/js/organisation-config.js" class="remove"></script>
  <!-- <script src="js/organisation-config.js" class="remove"></script> -->
  <script src="js/config.js" class="remove"></script>
 
  <script>document.title = respecConfig.title || "Default Title";</script>

  <!-- Favicon -->
  <link rel="shortcut icon" type="image/x-icon" href="https://vng-realisatie.github.io/VNG-R-Respec-Organization-configurations/media/logo-VNG-Realisatie.ico" />

  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/custom.css">

  <!-- ReSpec NL Gov build -->
  <script src="https://gitdocumentatie.logius.nl/publicatie/respec/builds/respec-nlgov.js" class="remove" async></script>

  <!-- Styles for images and h7 -->
  <style>
    .figure img, .sidefigure img, figure img,
    .figure object, .sidefigure object, figure object {
      max-width: none !important;
    }
    h7 {
      font-style: italic;
    }
    h7::after, h7::before {
      content: "\a";
      white-space: pre;
    }
  </style>
</head>

  <body>
    <!-- Required sections for ReSpec -->
    <section id="sotd"></section>

    <!-- Explicit dynamic inclusion of Markdown and Imvertor content -->
    <script>
      (function() {
        const contentMap = {
          "abstract": "content/abstract.md",
          "introduction": "content/ch01.md",
          "requirements": "content/ch02.md",
          "imvertor-logical": { path: "content/imvertor/doc/index.html", class: "imvertor-section" }
        };

        function extOf(path) {
          const m = path.match(/\.([a-z0-9]+)$/i);
          return m ? m[1].toLowerCase() : "";
        }

        function includeFormatFromExt(ext) {
          if (ext === "md" || ext === "markdown") return "markdown";
          if (ext === "html" || ext === "htm") return "html";
          return "markdown";
        }

        let contentHTML = "";

        for (const key of Object.keys(contentMap)) {
          const item = contentMap[key];
          const actualPath = typeof item === "string" ? item : item.path || "";
          const cls = (typeof item === "object" && item.class) ? item.class : "";
          if (!actualPath) continue;

          const fmt = includeFormatFromExt(extOf(actualPath));
          contentHTML += `<section data-include-format="${fmt}" data-include="${actualPath}"${cls ? ` class="${cls}"` : ""}></section>\n`;
        }

        const sotdSection = document.getElementById("sotd");
        if (sotdSection) {
          sotdSection.insertAdjacentHTML("afterend", contentHTML);
        } else {
          document.body.insertAdjacentHTML("beforeend", contentHTML);
        }
      })();
    </script>

    <!-- Other required ReSpec sections -->
    <section id="conformance"></section>
    <section id="toc"></section>
    <section id="index"></section>

  </body>
</html>
